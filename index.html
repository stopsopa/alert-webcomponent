<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alert Box Web Component - Demo</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica,
          Arial, sans-serif;
        max-width: 900px;
        margin: 40px auto;
        padding: 0 20px;
        line-height: 1.6;
        color: #24292f;
      }
      h1,
      h2,
      h3 {
        position: relative;
      }
      .header-link {
        position: absolute;
        left: -25px;
        opacity: 0.7;
        text-decoration: none;
        color: #24292f;
        transition: opacity 0.2s;
      }
      .header-link:hover {
        opacity: 1;
      }
      h1 {
        border-bottom: 2px solid #d0d7de;
        padding-bottom: 10px;
      }
      h2 {
        margin-top: 40px;
        border-bottom: 1px solid #d0d7de;
        padding-bottom: 8px;
      }
      #link-toast {
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: #24292f;
        color: white;
        padding: 12px 24px;
        border-radius: 6px;
        opacity: 0;
        transform: translateY(-20px);
        transition: opacity 0.3s, transform 0.3s;
        z-index: 1000;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      #link-toast.show {
        opacity: 1;
        transform: translateY(0);
      }
      .section {
        margin: 30px 0;
      }
      pre {
        background: #f6f8fa;
        border: 1px solid #d0d7de;
        border-radius: 6px;
        padding: 16px;
        overflow-x: auto;
      }
      code {
        font-family: "Courier New", monospace;
        font-size: 14px;
      }
      a {
        color: #0969da;
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      .demo-section {
        margin: 20px 0;
        padding: 20px;
        background: #f6f8fa;
        border-radius: 6px;
      }
      .spacer {
        height: 15px;
      }
      .github-ribbon {
        position: fixed;
        top: 0;
        right: 0;
        width: 150px;
        height: 150px;
        overflow: hidden;
        z-index: 9998; /* Reduced z-index to be below toast */
      }
      .github-ribbon a {
        position: absolute;
        top: 42px;
        right: -40px;
        transform: rotate(45deg);
        width: 200px;
        background: #0969da;
        color: #fff;
        text-align: center;
        padding: 5px 0;
        font-size: 14px;
        font-weight: 600;
        text-decoration: none;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        cursor: pointer;
      }
      .github-ribbon a:hover {
        background: #0550ae;
        text-decoration: none;
      }
      .github-ribbon svg {
        width: 16px;
        height: 16px;
        fill: currentColor;
      }
      #link-toast {
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: #24292f;
        color: white;
        padding: 12px 24px;
        border-radius: 6px;
        opacity: 0;
        transform: translateY(-20px);
        transition: opacity 0.3s, transform 0.3s;
        z-index: 9999; /* Higher z-index to appear above ribbon */
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
    </style>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Create toast element
        const toast = document.createElement("div");
        toast.id = "link-toast";
        toast.textContent = "Section link copied!";
        document.body.appendChild(toast);

        // Function to show toast
        const showToast = () => {
          toast.classList.add("show");
          setTimeout(() => {
            toast.classList.remove("show");
          }, 2000);
        };

        const headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");
        const usedIds = new Set();

        function generateId(text) {
          // Convert to lowercase, remove non-alphanumeric characters
          let id = text
            .toLowerCase()
            .replace(/[^a-z0-9\s-]/g, "")
            // Replace spaces with hyphens
            .replace(/\s+/g, "-")
            // Trim leading/trailing hyphens
            .replace(/^-+|-+$/g, "")
            // Limit length
            .substring(0, 40);

          // Ensure unique ID
          let uniqueId = id;
          let counter = 1;
          while (usedIds.has(uniqueId)) {
            uniqueId = `${id}-${counter}`;
            counter++;
          }

          usedIds.add(uniqueId);
          return uniqueId;
        }

        headers.forEach((header) => {
          // Always generate a new ID based on header text
          const text = header.textContent.trim();
          header.id = generateId(text);

          // Create a link icon
          const linkIcon = document.createElement("a");
          linkIcon.href = `#${header.id}`;
          linkIcon.classList.add("header-link");
          linkIcon.textContent = "üîó";
          linkIcon.title = "Copy link to this section";

          // Add click event to copy link to clipboard
          linkIcon.addEventListener("click", (e) => {
            e.preventDefault();
            const url = new URL(window.location.href);
            url.hash = header.id;
            navigator.clipboard.writeText(url.toString()).then(() => {
              showToast();
            });
          });

          // Prepend the link to the header
          header.insertBefore(linkIcon, header.firstChild);
        });
      });
    </script>
  </head>
  <body>
    <div class="github-ribbon">
      <a
        href="https://github.com/stopsopa/alert-webcomponent"
        target="_blank"
        rel="noopener noreferrer"
      >
        <svg viewBox="0 0 16 16" aria-hidden="true">
          <path
            d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"
          />
        </svg>
        Fork me on GitHub
      </a>
    </div>

    <h1>Alert Box Web Component</h1>

    <p>
      A reusable <code>&lt;alert-box&gt;</code> web component that displays
      styled callouts/admonitions similar to GitHub's markdown alerts. Supports
      five types: note, tip, important, warning, and caution.
    </p>

    <h2>Installation</h2>

    <p>Include the component from GitHub Pages</p>
    <ace-editor lang="html">
      <script type="ace">
        &lt;script src="https://stopsopa.github.io/alert-webcomponent/alert-box.js">&lt;/script>
      </script>
    </ace-editor>

    <p>... or just download this file into your project (this is just one file):</p>

    <ace-editor lang="bash">
      <script type="ace">

        wget https://stopsopa.github.io/alert-webcomponent/alert-box.js

        # or

        curl -O https://stopsopa.github.io/alert-webcomponent/alert-box.js
      </script>
    </ace-editor>

    <h2>Live Demos</h2>

    <div class="section">
      <h3>Default Layout (Multi-line) - Note style</h3>
      <p>Message appears below the label - perfect for longer content:</p>

      <ace-editor lang="html">
        <script type="ace">
          &lt;alert-box type="note">
            Highlights information that users should take into account, even when skimming.
          &lt;/alert-box>
        </script>
      </ace-editor>
      <alert-box type="note">
        Highlights information that users should take into account, even when
        skimming.
      </alert-box>

      <hr />
      <h3>No "type" attribute</h3>
      <p>not specifying "type" attribute will default to "note" style</p>

      <ace-editor lang="html">
        <script type="ace">
          &lt;alert-box>
            Highlights information that users should take into account, even when skimming.
          &lt;/alert-box>
        </script>
      </ace-editor>
      <alert-box>
        Highlights information that users should take into account, even when
        skimming.
      </alert-box>

      <hr />

      <ace-editor lang="html">
        <script type="ace">
          &lt;alert-box type="tip">
            Optional information to help a user be more successful.
          &lt;/alert-box>
        </script>
      </ace-editor>
      <alert-box type="tip">
        Optional information to help a user be more successful.
      </alert-box>

      <hr />

      <ace-editor lang="html">
        <script type="ace">
          &lt;alert-box type="important">
            Crucial information necessary for users to succeed.
          &lt;/alert-box>
        </script>
      </ace-editor>
      <alert-box type="important">
        Crucial information necessary for users to succeed.
      </alert-box>

      <hr />

      <ace-editor lang="html">
        <script type="ace">
          &lt;alert-box type="warning">
            Critical content demanding immediate user attention due to potential risks.
          &lt;/alert-box>
        </script>
      </ace-editor>
      <alert-box type="warning">
        Critical content demanding immediate user attention due to potential
        risks.
      </alert-box>

      <hr />

      <ace-editor lang="html">
        <script type="ace">
          &lt;alert-box type="caution">
            Negative potential consequences of an action.
          &lt;/alert-box>
        </script>
      </ace-editor>
      <alert-box type="caution">
        Negative potential consequences of an action.
      </alert-box>
    </div>

    <div class="section">
      <h3>One-line Layout (data-oneline)</h3>
      <p>Everything on the same line - compact display:</p>

      <ace-editor lang="html">
        <script type="ace">
          &lt;alert-box type="note" data-oneline>
            Highlights information that users should take into account.
          &lt;/alert-box>
        </script>
      </ace-editor>
      <alert-box type="note" data-oneline>
        Highlights information that users should take into account.
      </alert-box>

      <hr />

      <ace-editor lang="html">
        <script type="ace">
          &lt;alert-box type="tip" data-oneline>
            Optional information to help a user be more successful.
          &lt;/alert-box>
        </script>
      </ace-editor>
      <alert-box type="tip" data-oneline>
        Optional information to help a user be more successful.
      </alert-box>

      <hr />

      <ace-editor lang="html">
        <script type="ace">
          &lt;alert-box type="important" data-oneline>
            Crucial information necessary for users to succeed.
          &lt;/alert-box>
        </script>
      </ace-editor>
      <alert-box type="important" data-oneline>
        Crucial information necessary for users to succeed.
      </alert-box>

      <hr />

      <ace-editor lang="html">
        <script type="ace">
          &lt;alert-box type="warning" data-oneline>
            Critical content demanding immediate user attention.
          &lt;/alert-box>
        </script>
      </ace-editor>
      <alert-box type="warning" data-oneline>
        Critical content demanding immediate user attention.
      </alert-box>

      <hr />

      <ace-editor lang="html">
        <script type="ace">
          &lt;alert-box type="caution" data-oneline>
            Negative potential consequences of an action.
          &lt;/alert-box>
        </script>
      </ace-editor>
      <alert-box type="caution" data-oneline>
        Negative potential consequences of an action.
      </alert-box>
    </div>

    <h2>Custom Alert Label</h2>
    <p>Override the default label using the <code>alert</code> attribute:</p>

    <div class="section">
      <ace-editor lang="html">
        <script type="ace">
          &lt;!-- Multi-line layout with custom label -->
          &lt;alert-box type="note" alert="Documentation">
            Override the default label to suit your specific context.
          &lt;/alert-box>

          &lt;!-- One-line layout with custom label -->
          &lt;alert-box type="warning" data-oneline alert="Security Alert">
            A custom label that precisely describes the nature of the alert.
          &lt;/alert-box>
        </script>
      </ace-editor>

      <alert-box type="note" alert="Documentation">
        Override the default label to suit your specific context.
      </alert-box>

      <alert-box type="warning" data-oneline alert="Security Alert">
        A custom label that precisely describes the nature of the alert.
      </alert-box>
    </div>

    <h2>With Rich HTML Content</h2>

    <div class="section">
      <ace-editor lang="html">
        <script type="ace">
          &lt;alert-box type="warning">
            <strong>‚ö†Ô∏è Warning:</strong> Using both <code>data-eval</code> and
            <code>&lt;script type="text/javascript"></code> will cause code to
            execute twice.
            <ul>
              <li>Use <code>data-eval</code> for dynamic evaluation</li>
              <li>Use <code>&lt;script></code> for static scripts</li>
              <li>Don't combine both approaches</li>
            </ul>
          &lt;/alert-box>
        </script>
      </ace-editor>
      <alert-box type="warning">
        <strong>‚ö†Ô∏è Warning:</strong> Using both <code>data-eval</code> and
        <code>&lt;script type="text/javascript"></code> will cause code to
        execute twice.
        <ul>
          <li>Use <code>data-eval</code> for dynamic evaluation</li>
          <li>Use <code>&lt;script></code> for static scripts</li>
          <li>Don't combine both approaches</li>
        </ul>
      </alert-box>

      <hr />

      <ace-editor lang="html">
        <script type="ace">
          <alert-box type="tip">
            <p>You can include any HTML content
            in the alert box:</p>
            <ul>
              <li>Lists</li>
              <li>
                Links: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components">MDN Web Components</a>
              </li>
              <li><code>Code snippets</code></li>
              <li><strong>Bold</strong> and <em>italic</em> text</li>
            </ul>
          </alert-box>
        </script>
      </ace-editor>
      <alert-box type="tip">
        <p>You can include any HTML content in the alert box:</p>
        <ul>
          <li>Lists</li>
          <li>
            Links:
            <a
              href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components"
              >MDN Web Components</a
            >
          </li>
          <li><code>Code snippets</code></li>
          <li><strong>Bold</strong> and <em>italic</em> text</li>
        </ul>
      </alert-box>
    </div>

    <h2>Basic Usage</h2>

    <ace-editor lang="html">
      <script type="ace">
        &lt;!-- Default multi-line layout -->
        &lt;alert-box type="note">
          This is a note callout with important information.
        &lt;/alert-box>

        &lt;!-- One-line layout -->
        &lt;alert-box type="tip" data-oneline>
          Short message on one line.
        &lt;/alert-box>

        &lt;!-- With HTML content -->
        &lt;alert-box type="warning">
          &lt;strong>Warning:&lt;/strong> This action cannot be undone.
          <ul>
            <li>All data will be deleted</li>
            <li>Backups are not available</li>
          </ul>
        &lt;/alert-box>
      </script>
    </ace-editor>

    <h2>API Reference</h2>

    <h3>Attributes</h3>
    <ul>
      <li>
        <code>type</code> (string): The alert type - one of "note", "tip",
        "important", "warning", or "caution". Default: "note"
      </li>
      <li>
        <code>data-oneline</code> (boolean): Display in compact one-line mode.
        Default: false (multi-line layout)
      </li>
      <li>
        <code>alert</code> (string): Custom override for the default label. When
        specified, replaces the standard type label. Default: uses type's
        default label
      </li>
    </ul>

    <h3>Slots</h3>
    <ul>
      <li>
        <strong>Default slot:</strong> Content to display in the alert box.
        Accepts any HTML content.
      </li>
    </ul>

    <h3>Supported Alert Types</h3>
    <ul>
      <li><strong>note</strong> (blue): Neutral, informational content</li>
      <li><strong>tip</strong> (green): Helpful, optional information</li>
      <li><strong>important</strong> (purple): Crucial information</li>
      <li>
        <strong>warning</strong> (yellow): Critical content with potential risks
      </li>
      <li><strong>caution</strong> (red): Negative consequences</li>
    </ul>

    <h2>Features</h2>
    <ul>
      <li>‚úÖ Pure Web Components API - no dependencies</li>
      <li>‚úÖ Shadow DOM for style encapsulation</li>
      <li>‚úÖ GitHub-style alert designs with Octicons</li>
      <li>‚úÖ Supports any HTML content via slots</li>
      <li>‚úÖ Reactive attribute updates</li>
      <li>‚úÖ Lightweight and fast</li>
    </ul>

    <h2>Browser Compatibility</h2>
    <ul>
      <li>Chrome/Edge: 53+</li>
      <li>Firefox: 63+</li>
      <li>Safari: 10.1+</li>
      <li>Opera: 40+</li>
    </ul>

    <h2>Further Reading</h2>
    <ul>
      <li>
        <a
          href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements"
          >Using custom elements - MDN</a
        >
      </li>
      <li>
        <a
          href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_shadow_DOM"
          >Using shadow DOM - MDN</a
        >
      </li>
      <li>
        <a
          href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_templates_and_slots"
          >Using templates and slots - MDN</a
        >
      </li>
      <li>
        <a href="https://primer.style/design/foundations/color"
          >GitHub Primer Design System</a
        >
      </li>
    </ul>

    <script
      src="https://stopsopa.github.io/ace-editor-webcomponent/ace-web-component.js"
      data-main-ace="https://stopsopa.github.io/noprettier/ace/ace-builds-1.15.0/src-min-noconflict/ace.js"
    ></script>
    <script src="alert-box.js"></script>
  </body>
</html>
